---
title: "P8105 HW 2- Sara Kramer (sk4970)
output: github_document
---

```{r}
library(tidyverse)

library(lubridate)
```

# Problem 1
```{r}
nyc_subway = 
  read_csv(
    "data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv",
    col_types = cols(Route8 = "c", Route9 = "c", Route10 = "c", Route11 = "c")) %>% 
  janitor::clean_names() %>% 
  select(
    line, station_name, station_latitude, station_longitude, 
    starts_with("route"), entry, exit_only, vending, entrance_type, 
    ada) %>% 
  mutate(entry = ifelse(entry == "YES", TRUE, FALSE))

nyc_subway %>% 
  select(station_name, line) %>% 
  distinct
## 465 distinct stations

nyc_subway %>% 
  filter(ada == TRUE) %>% 
  select(station_name, line) %>% 
  distinct
## 84 stations that are ADA compliant

nyc_subway %>% 
  filter(vending == "NO") %>% 
  pull(entry) %>% 
  mean
## 37.8% 

nyc_subway %>% 
  pivot_longer(
    route1:route11,
    names_to = "route_num",
    values_to = "route") %>% 
  filter(route == "A") %>% 
  select(station_name, line) %>% 
  distinct
## 60 stations on A line

nyc_subway %>% 
  pivot_longer(
    route1:route11,
    names_to = "route_num",
    values_to = "route") %>% 
  filter(route == "A", ada == TRUE) %>% 
  select(station_name, line) %>% 
  distinct
## 17 stations on A line that are ADA compliant 

```

# Problem 2
```{r}
library(readxl)
mr_trash_wheel <- read_excel("data/Trash Wheel Collection Data.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N549") %>%
  janitor::clean_names()

mr_trash_wheel %>% 
  separate(col = date, into = c('year','month', 'day'), sep = '-') %>%
  na.omit(" ") %>%
  as.integer("sports_balls") %>%
ADD VARIABLE TO IDENTIFY


##
prof_trash_wheel <- read_excel("data/Trash Wheel Collection Data.xlsx", sheet = "Professor Trash Wheel", range = "A2:M96") %>%
  janitor::clean_names()

prof_trash_wheel %>%
  separate(col = date, into = c('year','month', 'day'), sep = '-') %>%
  na.omit(" ") %>%
ADD VARIABLE TO IDENTIFY
  
trash_data = 
  inner_join(mr_trash_wheel, prof_trash_wheel, by = "dumpster")

##SHORT PARA

```

# Problem 3
```{r}
pols_month =
  read_csv(
    "data/fivethirtyeight_datasets/pols-month.csv"
  ) %>%
  janitor::clean_names() %>%
  na.omit(" ") %>%
  separate(col = mon, into = c('year','month', 'day'), sep = '-') %>%
  select(-day)
CREATE PRES VARIABLE

snp =
  read_csv(
    "data/fivethirtyeight_datasets/snp.csv"
  ) %>%
  janitor::clean_names() %>%
  na.omit(" ") %>%
  separate(col = mon, into = c('year','month', 'day'), sep = '-') %>%
  select(-day)
LEAD YR/MONTH

unemployment =
  read_csv(
    "data/fivethirtyeight_datasets/unemployment.csv"
  ) %>%
  janitor::clean_names() %>%
  na.omit(" ") %>%
PIVOT LONGER

JOIN SNP TO POLS. THEN ADD UNEMP

##SHORT PARAGRAPH

```